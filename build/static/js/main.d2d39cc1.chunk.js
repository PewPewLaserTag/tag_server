(this.webpackJsonplaser_tag=this.webpackJsonplaser_tag||[]).push([[0],{185:function(e,a,t){e.exports=t(251)},190:function(e,a,t){},191:function(e,a,t){e.exports=t.p+"static/media/logo.25bf045c.svg"},192:function(e,a,t){},215:function(e,a,t){t(250),t(249);var n=t(124)(document.location.hostname+":5000");e.exports=function(e){return e.on("newPlayer").subscribe((function(e){n.emit("newPlayer",e)})),e.on("removePlayer").subscribe((function(e){n.emit("removePlayer",e)})),e.on("gameStatusChange").subscribe((function(e){})),n.emit("getPlayers",{}),e}},244:function(e,a){},251:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(18),o=t.n(l),i=(t(190),t(191),t(192),t(36)),c=t(22),s=t(4),m=t(166),u=t(26),g=t(307),p=t(289),v=t(290),d=t(291),f=t(294),h=t(121),E=t(293),b=t(292),y=t(131),w=t.n(y),O=t(169),k=t.n(O),S=t(170),j=t.n(S),x=t(295),P=t(296),C=t(297),N=t(174),G=t.n(N),L=t(173),T=t.n(L),A=t(171),B=t.n(A),W=t(172),D=t.n(W),R=t(134),I=t.n(R),V=t(305),_=t(175),z=t(288),F=Object(m.a)((function(e){return{root:{padding:"16px"},status:{"vertical-align":"top"}}}));function H(e){var a=e.name,t=e.avatar,n=e.completed,l=F(),o="/images/heros/"+t;return r.a.createElement(V.a,{m:2},r.a.createElement(_.a,{className:l.root,align:"left"},r.a.createElement("img",{width:"60px",src:o,pl:2}),r.a.createElement(V.a,{ml:2,className:l.status,display:"inline-block",width:"80%"},r.a.createElement(h.a,{variant:"h5",component:"h3"},a),r.a.createElement(z.a,{variant:"determinate",value:n}))))}var J=t(59);function U(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function $(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?U(t,!0).forEach((function(a){Object(c.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):U(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var M=t(60),q=(r.a.forwardRef((function(e,a){return r.a.createElement(J.b,Object.assign({innerRef:a},e))})),Object(m.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:$({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar,{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}})));function K(){var e=q(),a=Object(u.a)(),t=r.a.useState(!1),l=Object(i.a)(t,2),o=l[0],m=l[1],y=M.useStore(),O=(y.get("gameStatus"),y.get("socket")),S=function(){m(!1)},N=function(e){console.log(e),y.set("gameStatus",e.status)};return Object(n.useEffect)((function(){return O.on("gameStatusUpdate",N),function(){O.removeEventListener("gameStatusUpdate",N)}})),r.a.createElement("div",{className:e.root},r.a.createElement(p.a,null),r.a.createElement(v.a,{position:"sticky",className:Object(s.a)(e.appBar,Object(c.a)({},e.appBarShift,o))},r.a.createElement(d.a,null,r.a.createElement(b.a,{color:"inherit","aria-label":"open drawer",onClick:function(){m(!0)},edge:"start",className:Object(s.a)(e.menuButton,o&&e.hide)},r.a.createElement(w.a,null)),r.a.createElement(h.a,{variant:"h6",noWrap:!0},"Laser Tag"))),r.a.createElement(g.a,{className:e.drawer,variant:"persistent",anchor:"left",open:o,classes:{paper:e.drawerPaper}},r.a.createElement("div",{className:e.drawerHeader},r.a.createElement(b.a,{onClick:S},"ltr"===a.direction?r.a.createElement(k.a,null):r.a.createElement(j.a,null))),r.a.createElement(E.a,null),r.a.createElement(f.a,null,r.a.createElement(x.a,{button:!0,key:"StartGame",onClick:function(){O.emit("updateGameStatus",{status:"paused"}),console.log("Handle Play"),S()}},r.a.createElement(P.a,null,r.a.createElement(B.a,null)),r.a.createElement(C.a,{primary:"Start Game"})),r.a.createElement(x.a,{button:!0,key:"StopGame",onClick:S},r.a.createElement(P.a,null,r.a.createElement(D.a,null)),r.a.createElement(C.a,{primary:"Stop Game"})),r.a.createElement(E.a,null),r.a.createElement(x.a,{button:!0,key:"NewGame",component:J.b,to:"/newgame",onClick:S},r.a.createElement(P.a,null,r.a.createElement(I.a,null)),r.a.createElement(C.a,{primary:"New Game"})),r.a.createElement(x.a,{button:!0,key:"CurrentGame",component:J.b,to:"/currentgame",onClick:S},r.a.createElement(P.a,null,r.a.createElement(T.a,null)),r.a.createElement(C.a,{primary:"Current Game"})),r.a.createElement(E.a,null),r.a.createElement(x.a,{button:!0,key:"AddPlayer",component:J.b,to:"/newplayer",onClick:S},r.a.createElement(P.a,null,r.a.createElement(I.a,null)),r.a.createElement(C.a,{primary:"Add Player"})),r.a.createElement(x.a,{button:!0,key:"Players",component:J.b,to:"/players",onClick:S},r.a.createElement(P.a,null,r.a.createElement(G.a,null)),r.a.createElement(C.a,{primary:"All Players"})))))}var Q=t(298),X=t(60),Y=Object(m.a)((function(e){return{root:{padding:"16px"},status:{"vertical-align":"top"}}}));var Z=X.withStore((function(e){Y();var a=X.useStore(),t=a.get("socket"),l=Object(n.useState)(0),o=Object(i.a)(l,2),c=o[0],s=o[1],m=(a.get("players"),Object(n.useState)([])),u=Object(i.a)(m,2),g=u[0],p=u[1],v=function(e){e.remainingTime=120,e.done=!1,g.push(e),p(Array.from(g))};return Object(n.useEffect)((function(){t.on("scan",v);var e=setInterval((function(){var e=!0,a=!1,t=void 0;try{for(var n,r=g[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){var l=n.value;l.remainingTime>=0?l.remainingTime=l.remainingTime-1:l.done=!0}}catch(m){a=!0,t=m}finally{try{e||null==r.return||r.return()}finally{if(a)throw t}}var o=g.filter((function(e){return 1!=e.done}));p(o);var i=c;c>10&&(i=1),s(i+1)}),500);return function(){t.removeEventListener("scan",v),clearInterval(e)}}),[g,c]),r.a.createElement(Q.a,null,g.map((function(e){return r.a.createElement(H,{name:e.name,key:e.name,avatar:e.avatar,completed:e.remainingTime/120*100})})))})),ee=t(304),ae=t(300),te=t(299),ne=Object(m.a)((function(e){return{root:{"vertical-align":"top"},dot:{width:"20px",height:"20px"},badge:{backgroundColor:"#44b700",boxShadow:"0 0 0 2px ".concat(e.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"20px",height:"20px",borderRadius:"50%",animation:"$ripple 1.2s infinite ease-in-out",border:"5px solid #44b700",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(1.4)",opacity:0}}}})),re=["001-mask.svg","018-mask-3.svg","035-superheroe-4.svg","002-superhero.svg","019-superheroe-2.svg","036-superheroe-5.svg","003-help.svg","020-watch.svg","037-comic-1.svg","004-mask-1.svg","021-mask-4.svg","038-shield-3.svg","005-robot.svg","022-belt.svg","039-superhero-4.svg","006-sword.svg","023-thunder.svg","040-mask-7.svg","007-shield.svg","024-boom.svg","041-villain.svg","008-superheroe.svg","025-superhero-2.svg","042-shield-4.svg","009-comic.svg","026-superhero-3.svg","043-superheroe-6.svg","010-superpowers.svg","027-eye.svg","044-fire.svg","011-fly.svg","028-hand.svg","045-villain-1.svg","012-mask-2.svg","029-mask-5.svg","046-superheroe-7.svg","013-superheroe-1.svg","030-glasses.svg","047-mask-8.svg","014-shield-1.svg","031-mask-6.svg","048-shield-5.svg","015-superpower.svg","032-superpower-1.svg","049-superheroe-8.svg","016-shield-2.svg","033-superheroe-3.svg","050-cape.svg","017-superhero-1.svg","034-lightsaber.svg"];function le(e){var a=ne(),t=[],l=Object(n.useState)(0),o=Object(i.a)(l,2),c=o[0],s=o[1],m=!0,u=!1,g=void 0;try{for(var p,v=function(){var n=p.value,l=(f=Object(i.a)(n,2))[0],o=f[1],m="/images/heros/"+o;o==c?t.push(r.a.createElement(te.a,{className:a.root,badgeContent:5,color:"primary",overlap:"circle",variant:"dot",anchorOrigin:{vertical:"bottom",horizontal:"right"},classes:a},r.a.createElement("img",{src:m,className:a.laser_avatar,key:l,width:"80px"}))):t.push(r.a.createElement("img",{src:m,className:a.laser_avatar,key:l,width:"80px",onClick:function(){return s(a=o),void e.onChange(a);var a}}))},d=re.entries()[Symbol.iterator]();!(m=(p=d.next()).done);m=!0){var f;v()}}catch(h){u=!0,g=h}finally{try{m||null==d.return||d.return()}finally{if(u)throw g}}return r.a.createElement(V.a,null,t)}function oe(){var e=Object(m.a)({root:{color:"lightgray","& a":{color:"lightgray"}}})();return r.a.createElement("div",{className:e.root}," Icons made by ",r.a.createElement("a",{href:"https://www.flaticon.com/authors/freepik"},"Freepik")," from www.flaticon.com")}var ie=t(60),ce=t(124)(document.location.hostname+":5000"),se=Object(m.a)((function(e){return{container:{textAlign:"left"},status:{"vertical-align":"top"}}}));var me=ie.withStore((function(){var e=se(),a=ie.useStore(),t=Object(n.useState)(0),l=Object(i.a)(t,2),o=l[0],c=l[1],s=Object(n.useState)(""),m=Object(i.a)(s,2),u=m[0],g=m[1],p=Object(n.useState)(""),v=Object(i.a)(p,2),d=v[0],f=v[1],h=function(e){f(e.id)};return Object(n.useEffect)((function(){return ce.on("newScan",h),function(){ce.removeEventListener("newScan",h)}})),console.log(u),r.a.createElement(Q.a,{align:"left"},r.a.createElement("form",{className:e.contianer,noValidate:!0,autoComplete:"off"},r.a.createElement("div",null,r.a.createElement(ee.a,{fullWidth:!0,id:"standard-basic",className:e.textField,label:"Name",margin:"normal",onChange:function(e){return g(e.target.value)},value:u})),r.a.createElement("div",null,r.a.createElement(le,{onChange:function(e){c(e)}}),r.a.createElement(oe,null)),r.a.createElement("div",null,r.a.createElement(ee.a,{fullWidth:!0,id:"standard-basic",className:e.textField,label:"Tag Number",margin:"normal",onChange:function(e){return f(e.target.value)},value:d})),r.a.createElement(ae.a,{onClick:function(e){console.log("Click","Removing Player"),a.set("newPlayer")({name:u,avatar:o,tag:d})}},"Save")))})),ue=t(67),ge=t(301),pe=t(302),ve=t(303),de=t(60),fe=Object(m.a)((function(e){return{card:{minWidth:"200px",width:"275px",margin:"16px"},action:{justifyContent:"center"},status:{"vertical-align":"top"}}}));var he=de.withStore((function(e){var a=e.name,t=e.avatar,n=(e.completed,fe()),l="/images/heros/"+t,o=de.useStore();return r.a.createElement(ge.a,{className:n.card,raised:"true"},r.a.createElement(pe.a,null,r.a.createElement("img",{width:"60px",src:l,pl:2}),r.a.createElement(h.a,{variant:"h5",component:"h3"},a)),r.a.createElement(ve.a,{className:n.action},r.a.createElement(ae.a,{size:"large"},"Edit"),r.a.createElement(ae.a,{onClick:function(e,a){o.set("removePlayer")({name:e})}.bind(this,a),size:"large"},"Remove")))})),Ee=t(60),be=Object(m.a)((function(e){return{root:{padding:"16px",display:"flex",flexDirection:"row",flexWrap:"wrap"},status:{"vertical-align":"top"}}}));var ye=Ee.withStore((function(e){var a=be(),t=Ee.useStore().get("players");console.log(t);var n=t.map((function(e){return r.a.createElement(he,{key:e.name,name:e.name,avatar:e.avatar,completed:80})}));return r.a.createElement(Q.a,{className:a.root},n)})),we=t(308),Oe=t(60),ke=Object(m.a)((function(e){return{root:{padding:"16px"},container:{marginTop:"32px"}}}));var Se=Oe.withStore((function(e){var a=ke();return Oe.useStore().get("socket"),r.a.createElement(Q.a,{align:"left"},r.a.createElement("form",{className:a.contianer,noValidate:!0,autoComplete:"off"},r.a.createElement("div",null,r.a.createElement(we.a,{defaultValue:15,getAriaValueText:function(e){return"".concat(e," Seconds")},"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:15,marks:!0,min:15,max:150}))))})),je=t(60),xe=Object(m.a)({});var Pe=je.withStore((function(e){xe();var a=je.useStore(),t=a.get("socket"),l=function(e){console.log("server Players",e),a.set("players")(e)};return Object(n.useEffect)((function(){return console.log("Laser Tag Mount"),t.on("updatePlayers",l),function(){t.removeEventListener("updatePlayers",l)}})),r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"App"},r.a.createElement(p.a,null),r.a.createElement(K,null),r.a.createElement("main",null,r.a.createElement(ue.a,{exact:!0,path:"/"}),r.a.createElement(ue.a,{path:"/currentgame"},r.a.createElement(Z,null)),r.a.createElement(ue.a,{path:"/newgame"},r.a.createElement(Se,null)),r.a.createElement(ue.a,{path:"/newplayer"},r.a.createElement(me,null)),r.a.createElement(ue.a,{path:"/players"},r.a.createElement(ye,null))),r.a.createElement("footer",null)))})),Ce=t(60);var Ne=function(){return r.a.createElement(Ce.Container,null,r.a.createElement(J.a,null,r.a.createElement(Pe,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},60:function(e,a,t){var n=t(98),r=t(215),l={players:[],newPlayer:{},removePlayer:{},gameStatus:"stopped",gameStoreEvent:{},socket:t(124)(document.location.hostname+":5000")};e.exports=n.createConnectedStore(l,r)}},[[185,1,2]]]);
//# sourceMappingURL=main.d2d39cc1.chunk.js.map